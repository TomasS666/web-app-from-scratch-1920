{"version":3,"sources":["js/helpers/router/routie.js"],"names":["Routie","w","isModule","routes","map","oldReference","Route","path","name","keys","fns","params","regex","pathToRegexp","prototype","addHandler","fn","push","removeHandler","i","c","length","splice","run","apply","match","m","exec","len","key","val","decodeURIComponent","toURL","param","replace","indexOf","Error","sensitive","strict","RegExp","Array","join","concat","_","slash","format","capture","optional","s","split","routie","reload","p","navigate","lookup","obj","route","remove","removeAll","options","silent","removeListener","setTimeout","window","location","hash","addListener","noConflict","getHash","checkRoute","hashChanged","substring","addEventListener","attachEvent","removeEventListener","detachEvent","module","exports"],"mappings":"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","file":"routie.3c880ae9.js","sourceRoot":"..\\src","sourcesContent":["/*!\r\n * routie - a tiny hash router\r\n * v0.3.2\r\n * http://projects.jga.me/routie\r\n * copyright Greg Allen 2016\r\n * MIT License\r\n*/\r\nvar Routie = function(w, isModule) {\r\n\r\n  var routes = [];\r\n  var map = {};\r\n  var reference = \"routie\";\r\n  var oldReference = w[reference];\r\n\r\n  var Route = function(path, name) {\r\n    this.name = name;\r\n    this.path = path;\r\n    this.keys = [];\r\n    this.fns = [];\r\n    this.params = {};\r\n    this.regex = pathToRegexp(this.path, this.keys, false, false);\r\n\r\n  };\r\n\r\n  Route.prototype.addHandler = function(fn) {\r\n    this.fns.push(fn);\r\n  };\r\n\r\n  Route.prototype.removeHandler = function(fn) {\r\n    for (var i = 0, c = this.fns.length; i < c; i++) {\r\n      var f = this.fns[i];\r\n      if (fn == f) {\r\n        this.fns.splice(i, 1);\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  Route.prototype.run = function(params) {\r\n    for (var i = 0, c = this.fns.length; i < c; i++) {\r\n      this.fns[i].apply(this, params);\r\n    }\r\n  };\r\n\r\n  Route.prototype.match = function(path, params){\r\n    var m = this.regex.exec(path);\r\n\r\n    if (!m) return false;\r\n\r\n\r\n    for (var i = 1, len = m.length; i < len; ++i) {\r\n      var key = this.keys[i - 1];\r\n\r\n      var val = ('string' == typeof m[i]) ? decodeURIComponent(m[i]) : m[i];\r\n\r\n      if (key) {\r\n        this.params[key.name] = val;\r\n      }\r\n      params.push(val);\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  Route.prototype.toURL = function(params) {\r\n    var path = this.path;\r\n    for (var param in params) {\r\n      path = path.replace('/:'+param, '/'+params[param]);\r\n    }\r\n    path = path.replace(/\\/:.*\\?/g, '/').replace(/\\?/g, '');\r\n    if (path.indexOf(':') != -1) {\r\n      throw new Error('missing parameters for url: '+path);\r\n    }\r\n    return path;\r\n  };\r\n\r\n  var pathToRegexp = function(path, keys, sensitive, strict) {\r\n    if (path instanceof RegExp) return path;\r\n    if (path instanceof Array) path = '(' + path.join('|') + ')';\r\n    path = path\r\n      .concat(strict ? '' : '/?')\r\n      .replace(/\\/\\(/g, '(?:/')\r\n      .replace(/\\+/g, '__plus__')\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function(_, slash, format, key, capture, optional){\r\n        keys.push({ name: key, optional: !! optional });\r\n        slash = slash || '';\r\n        return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\r\n      })\r\n      .replace(/([\\/.])/g, '\\\\$1')\r\n      .replace(/__plus__/g, '(.+)')\r\n      .replace(/\\*/g, '(.*)');\r\n    return new RegExp('^' + path + '$', sensitive ? '' : 'i');\r\n  };\r\n\r\n  var addHandler = function(path, fn) {\r\n    var s = path.split(' ');\r\n    var name = (s.length == 2) ? s[0] : null;\r\n    path = (s.length == 2) ? s[1] : s[0];\r\n\r\n    if (!map[path]) {\r\n      map[path] = new Route(path, name);\r\n      routes.push(map[path]);\r\n    }\r\n    map[path].addHandler(fn);\r\n  };\r\n\r\n  var routie = function(path, fn) {\r\n    if (typeof fn == 'function') {\r\n      addHandler(path, fn);\r\n      routie.reload();\r\n    } else if (typeof path == 'object') {\r\n      for (var p in path) {\r\n        addHandler(p, path[p]);\r\n      }\r\n      routie.reload();\r\n    } else if (typeof fn === 'undefined') {\r\n      routie.navigate(path);\r\n    }\r\n  };\r\n\r\n  routie.lookup = function(name, obj) {\r\n    for (var i = 0, c = routes.length; i < c; i++) {\r\n      var route = routes[i];\r\n      if (route.name == name) {\r\n        return route.toURL(obj);\r\n      }\r\n    }\r\n  };\r\n\r\n  routie.remove = function(path, fn) {\r\n    var route = map[path];\r\n    if (!route)\r\n      return;\r\n    route.removeHandler(fn);\r\n  };\r\n\r\n  routie.removeAll = function() {\r\n    map = {};\r\n    routes = [];\r\n  };\r\n\r\n  routie.navigate = function(path, options) {\r\n    options = options || {};\r\n    var silent = options.silent || false;\r\n\r\n    if (silent) {\r\n      removeListener();\r\n    }\r\n    setTimeout(function() {\r\n      window.location.hash = path;\r\n\r\n      if (silent) {\r\n        setTimeout(function() { \r\n          addListener();\r\n        }, 1);\r\n      }\r\n\r\n    }, 1);\r\n  };\r\n\r\n  routie.noConflict = function() {\r\n    w[reference] = oldReference;\r\n    return routie;\r\n  };\r\n\r\n  var getHash = function() {\r\n    return window.location.hash.substring(1);\r\n  };\r\n\r\n  var checkRoute = function(hash, route) {\r\n    var params = [];\r\n    if (route.match(hash, params)) {\r\n      route.run(params);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  var hashChanged = routie.reload = function() {\r\n    var hash = getHash();\r\n    for (var i = 0, c = routes.length; i < c; i++) {\r\n      var route = routes[i];\r\n      if (checkRoute(hash, route)) {\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  var addListener = function() {\r\n    if (w.addEventListener) {\r\n      w.addEventListener('hashchange', hashChanged, false);\r\n    } else {\r\n      w.attachEvent('onhashchange', hashChanged);\r\n    }\r\n  };\r\n\r\n  var removeListener = function() {\r\n    if (w.removeEventListener) {\r\n      w.removeEventListener('hashchange', hashChanged);\r\n    } else {\r\n      w.detachEvent('onhashchange', hashChanged);\r\n    }\r\n  };\r\n  addListener();\r\n\r\n  if (isModule){\r\n    return routie;\r\n  } else {\r\n    w[reference] = routie;\r\n  }\r\n   \r\n};\r\n\r\nif (typeof module == 'undefined'){\r\n  Routie(window);\r\n} else {\r\n  module.exports = Routie(window,true);\r\n} "]}